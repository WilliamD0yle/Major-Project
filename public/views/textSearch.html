<!-- Text Search Page -->
<div ng-controller="TextSearchController">

    <div class="row">
        <form class="form-horizontal" novalidate ng-submit="" name="foodSearch">
            <fieldset>
                <div class="form-group">
                    <label for="inputName" class="col-md-4 control-label">Food Search</label>
                    <div class="col-md-4">
                        <!--   Using debounce runs the function 1 second after a change has been made   -->
                        <input type="text" class="form-control" id="search" ng-model="search" ng-change="foodTextSearch(search)" ng-model-options="{debounce: 1000}" placeholder="Search">
                    </div>
                    <div class="col-md-4">
                        <a href="#/account/search">Barcode scan: <span class="glyphicon glyphicon-barcode"></span></a>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>

    <div class="row" ng-show="searchResults">
        <div class="col-md-6 col-md-offset-3 results" ng-repeat="food in results">
            <p class="lead" ng-click="addFood(food)">{{food.product_name}}</p>
        </div>
    </div>

    <div class="row" ng-show="foodContent">
        <div class="col-md-8 col-md-offset-2">
            <form class="form-horizontal" ng-submit="submitDiary()" name="diaryForm">
                <fieldset>
                    <h3>{{item}}</h3>
                    <p class="lead">Calories - {{cals}}</p>

                    <p class="lead">Carbs - {{carbs}}</p>

                    <p class="lead">Fats - {{fats}}</p>

                    <p class="lead">Protein - {{protein}}</p>

                    <p class="lead">Serving size - {{serving}}</p>
                    <label for="serving" class="control-label">How many grams did you have?</label>
                    <input class="form-control" ng-model="serving" ng-change="totalCals" id="serving"/>

                    <p class="lead">Total Calories - {{totalCals()}}</p>
                    <input type="hidden" name="calories" ng-model="calories" ng-value="{{totalCals()}}" />
                    
                    <p class="lead">What meal is this for?</p>
                    <select ng-model="selectedMeal" required>
                        <option ng-repeat="x in meal" value="{{x}}">{{x}}</option>
                    </select>
                    </br>
                    </br>
                    
                    <input type="submit" class="btn btn-success" value="Add Food" />
                    <input class="btn btn-danger" value="Cancel" />
                </fieldset>
            </form>
        </div>
    </div>

</div>
